/**
 * swapper.js v1.0
 * UI navigation and transition utility
 * Copyright (c) 2012 Kik Interactive, http://kik.com
 * Released under the MIT license
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

var Swapper=function(t,o,e,h){function i(a,b){a.style["-webkit-transform"]=b;a.style["-moz-transform"]=b;a.style["-ms-transform"]=b;a.style["-o-transform"]=b;a.style.transform=b}function j(a,b){b?(a.style["-webkit-transition"]="-webkit-"+b,a.style["-moz-transition"]="-moz-"+b,a.style["-ms-transition"]="-ms-"+b,a.style["-o-transition"]="-o-"+b,a.style.transition=b):(a.style["-webkit-transition"]="",a.style["-moz-transition"]="",a.style["-ms-transition"]="",a.style["-o-transition"]="",a.style.transition=
"")}function m(a,b){var c;c=b?a.style:o.defaultView.getComputedStyle(a,null);return{opacity:c.opacity,top:c.top,left:c.left,height:c.height,width:c.width,position:c.position}}function p(a){var b;a:if(a){try{b=a instanceof Node||a instanceof HTMLElement;break a}catch(c){}b="object"!==typeof a||"number"!==typeof a.nodeType||"string"!==typeof a.nodeName?!1:!0}else b=!1;if(!b)throw TypeError("element must be a DOM node, got "+a);}function g(a,b,c,k){function e(){a.parentNode&&a.parentNode.removeChild(a);
j(a,"");j(b,"");setTimeout(function(){i(a,"");i(b,"");f[0].fade&&(b.style.opacity=styles2.opacity);f[1].fade&&(a.style.opacity=s.opacity);b.style.position=styles2.position;b.style.top=styles2.top;b.style.left=styles2.left;b.style.height=styles2.height;b.style.width=styles2.width;a._swapper=!1;b._swapper=!1;k()},0)}p(a);p(b);"function"===typeof c&&(k=c,c={});switch(typeof c){case "string":c={transition:c};break;case "undefined":c={};break;case "object":break;default:throw TypeError("options must be an object if defined, got "+
c);}switch(typeof c.transition){case "string":if(!(c.transition in q))throw TypeError(c.transition+" is not a valid transition");break;case "undefined":break;default:throw TypeError("transition must be a string if defined, got "+c.transition);}switch(typeof c.duration){case "number":if(0>c.duration)throw TypeError("duration must be a non-negative integer, got "+c.duration);break;case "undefined":break;default:throw TypeError("duration must be a number if defined, got "+c.duration);}switch(typeof c.easing){case "string":if(!(c.easing in
r))throw TypeError(c.easing+" is not a valid easing");break;case "undefined":break;default:throw TypeError("easing must be a string if defined, got "+c.easing);}var d=k;switch(typeof d){case "undefined":d=function(){};case "function":break;default:throw TypeError("callback must be a function if defined, got "+d);}k=d;if(a._swapper)throw Error("elem1 is currently being swapped");if(b._swapper)throw Error("elem2 is currently being swapped");a:{for(d=a;d=d.parentNode;)if(d===o){d=!0;break a}d=!1}if(!d)throw Error("elem1 must be in the DOM to be swapped");
a._swapper=!0;b._swapper=!0;b.parentNode&&b.parentNode.removeChild(b);var f=q[c.transition||"fade"],h=r[c.easing||"ease-in-out"],g=c.duration||300,c=b,d=a,n=d.parentNode;n.lastchild===d?n.appendChild(c):n.insertBefore(c,d.nextSibling);var c=a.getBoundingClientRect(),d=m(a),s=m(a,!0);styles2=m(b,!0);b.style.position="fixed";b.style.top=c.top+"px";b.style.left=c.left+"px";b.style.height=d.height;b.style.width=d.width;i(a,l);i(b,f[0].transform||l);f[0].fade&&(b.style.opacity="0");f[1].fade&&(a.style.opacity=
"1");setTimeout(function(){var c="transform "+g/1E3+"s "+h+", opacity "+g/1E3+"s "+h;j(a,c);j(b,c);setTimeout(function(){i(a,f[1].transform||l);i(b,l);if(f[0].fade)b.style.opacity="1";if(f[1].fade)a.style.opacity="0";setTimeout(e,g)},0)},0)}var l="translate3d(0,0,0)",q={fade:[{fade:!0},{fade:!0}],"scale-in":[{transform:"scale(0.01)"},{fade:!0}],"scale-out":[{fade:!0},{transform:"scale(0.01)"}],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",fade:!0},{transform:"rotateY( 180deg) perspective(360px)",
fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},
{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{transform:"scale(1.33)",fade:!0},{transform:"scale(0.75)",fade:!0}],"explode-out":[{transform:"scale(0.75)",fade:!0},{transform:"scale(1.33)",fade:!0}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},
{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}]},r={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"};e&&e.extend(e.fn,{swapper:function(a,b,c){a=e(a)[0];this.forEach(function(e){g(e,a,b,c)});return this}});h&&(h.fn.swapper=function(a,b,c){a=
h(a)[0];this.each(function(){g(this,a,b,c)});return this});return g}(window,document,window.Zepto,window.jQuery);
